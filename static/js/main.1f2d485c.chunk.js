(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,o){e.exports=o(18)},16:function(e,t,o){},17:function(e,t,o){},18:function(e,t,o){"use strict";o.r(t);var a=o(0),n=o.n(a),l=o(9),r=o.n(l),d=(o(16),o(17),o(10)),c=o(1),i=o(2),s=o(3),u=o(5),m=o(4),p=o(6),f=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(o=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={inputNewTodoValue:""},o.addTodo=function(e){var t=o.props.addTodoToData,a=o.state.inputNewTodoValue;e.preventDefault(),a&&(t(a),o.setState({inputNewTodoValue:""}))},o.onChangeInputNewTodo=function(e){var t=e.target.value;o.setState({inputNewTodoValue:t})},o}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.state.inputNewTodoValue;return n.a.createElement("form",{onSubmit:this.addTodo},n.a.createElement("input",{value:e,onChange:this.onChangeInputNewTodo,type:"text",className:"new-todo",placeholder:"What needs to be done?",autoFocus:!0}))}}]),t}(n.a.Component),T=o(7),h=o.n(T),g=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(o=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={isTodoEditing:!1,inputNewTodoValue:o.props.todo.title,editTodoId:null},o.showTodoEditForm=function(){o.setState({isTodoEditing:!0})},o.onChangeInputEditTodo=function(e){var t=e.target,a=t.value,n=t.dataset.todoId;o.setState({inputNewTodoValue:a,editTodoId:n})},o.onKeyPressed=function(e){"Escape"!==e.key&&"Esc"!==e.key||o.editTodo(e)},o.editTodo=function(e){e.preventDefault();var t=o.state,a=t.inputNewTodoValue,n=t.editTodoId;n&&o.props.editTodoInData(n,a),o.setState({isTodoEditing:!1,editTodoId:null})},o}return Object(p.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.todo,o=t.id,a=t.title,l=t.completed,r=e.deleteTodoFromData,d=e.changeTodoCompleteStatus,c=this.state,i=c.isTodoEditing,s=c.inputNewTodoValue,u=h()({completed:l});return n.a.createElement("li",{className:u},n.a.createElement("div",{className:"view"},n.a.createElement("input",{type:"checkbox",className:"toggle","data-todo-id":"".concat(o),id:"todo-".concat(o),checked:l,onChange:d}),i?n.a.createElement("form",{onSubmit:this.editTodo},n.a.createElement("input",{type:"text",className:"new-todo","data-todo-id":"".concat(o),value:s,onChange:this.onChangeInputEditTodo,onBlur:this.editTodo,onKeyDown:this.onKeyPressed,autoFocus:!0})):n.a.createElement(n.a.Fragment,null,n.a.createElement("label",{htmlFor:"todo-".concat(o),onClick:function(e){return e.preventDefault()},onDoubleClick:this.showTodoEditForm},a),n.a.createElement("button",{type:"button",className:"destroy","data-todo-id":"".concat(o),onClick:function(){return r(o)}}))))}}]),t}(n.a.Component),b=function(e){var t=e.href,o=e.dataFilter,a=e.onClick,l=e.anchor,r=e.filter,d=h()({selected:o===r});return n.a.createElement("li",null,n.a.createElement("a",{href:t,"data-filter":o,className:d,onClick:a},l))},C=function(e){var t=e.activeTodosLeft,o=e.changeFilter,a=e.filter,l=e.isSomeTodoCompleted,r=e.deleteAllCompletedTodoFromData;return n.a.createElement("footer",{className:"footer"},!!t&&n.a.createElement("span",{className:"todo-count"},"".concat(t," item left")),n.a.createElement("ul",{className:"filters"},n.a.createElement(b,{href:"#/",dataFilter:"all",onClick:o,anchor:"All",filter:a}),n.a.createElement(b,{href:"#/active",dataFilter:"active",onClick:o,anchor:"Active",filter:a}),n.a.createElement(b,{href:"#/completed",dataFilter:"completed",onClick:o,anchor:"Completed",filter:a})),l&&n.a.createElement("button",{type:"button",className:"clear-completed",onClick:r},"Clear completed"))};function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),o.push.apply(o,a)}return o}function E(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(o,!0).forEach(function(t){Object(d.a)(e,t,o[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(o).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))})}return e}var O=function(e){function t(){var e,o;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(o=Object(u.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(n)))).state={todos:JSON.parse(localStorage.getItem("todos"))||[],filteredTodos:JSON.parse(localStorage.getItem("todos"))||[],idCount:JSON.parse(localStorage.getItem("idCount"))||0,filter:"all",isAllTodosCompleted:!1},o.changeFilter=function(e){var t=e.target.dataset.filter;e.preventDefault(),o.setState({filter:t}),o.filterTodos()},o.filterTodos=function(){o.setState(function(e){var t=[],o=e.filter,a=e.todos;switch(o){case"active":t=a.filter(function(e){return!1===e.completed});break;case"completed":t=a.filter(function(e){return!0===e.completed});break;default:t=a}return{filteredTodos:t}})},o.addTodoToData=function(e){o.setState(function(t){return{todos:[].concat(Object(c.a)(t.todos),[{id:t.idCount+1,title:e,completed:!1}]),idCount:++t.idCount}}),o.checkIsAllTodosCompleted(),o.filterTodos()},o.checkIsAllTodosCompleted=function(){o.setState(function(e){return{isAllTodosCompleted:e.todos.every(function(e){return!0===e.completed})}})},o.editTodoInData=function(e,t){t?(o.setState(function(o){return{todos:o.todos.map(function(o){return o.id===Number(e)?E({},o,{title:t}):o})}}),o.filterTodos()):o.deleteTodoFromData(e)},o.deleteTodoFromData=function(e){o.setState(function(t){var o=t.todos.findIndex(function(t){return t.id===Number(e)}),a=Object(c.a)(t.todos);return a.splice(o,1),{todos:a}}),o.checkIsAllTodosCompleted(),o.filterTodos()},o.deleteAllCompletedTodoFromData=function(){o.setState(function(e){return{todos:e.todos.reduce(function(e,t){return!0===t.completed?Object(c.a)(e):[].concat(Object(c.a)(e),[t])},[]),isAllTodosCompleted:!1}}),o.filterTodos()},o.changeTodoCompleteStatus=function(e){var t=e.target.dataset.todoId;o.setState(function(e){return E({},e,{todos:Object(c.a)(e.todos).reduce(function(e,o){return o.id===Number(t)&&(o.completed=!o.completed),[].concat(Object(c.a)(e),[o])},[])})}),o.checkIsAllTodosCompleted(),o.filterTodos()},o.changeTodosCompleteStatus=function(){o.setState(function(e){return{todos:Object(c.a)(e.todos).map(function(t){return E({},t,{completed:!e.isAllTodosCompleted})}),isAllTodosCompleted:!e.isAllTodosCompleted}}),o.filterTodos()},o.countActiveTodos=function(){return o.state.todos.filter(function(e){return!1===e.completed}).length},o.findSomeCompletedTodo=function(){return o.state.todos.some(function(e){return!0===e.completed})},o}return Object(p.a)(t,e),Object(s.a)(t,[{key:"componentDidUpdate",value:function(){localStorage.setItem("todos",JSON.stringify(this.state.todos)),localStorage.setItem("idCount",JSON.stringify(this.state.idCount))}},{key:"render",value:function(){var e=this,t=this.state,o=t.filteredTodos,a=t.filter,l=t.todos,r=t.isAllTodosCompleted,d=this.countActiveTodos(),c=this.findSomeCompletedTodo();return n.a.createElement("section",{className:"todoapp"},n.a.createElement("header",{className:"header"},n.a.createElement("h1",null,"todos"),n.a.createElement(f,{addTodoToData:this.addTodoToData})),n.a.createElement("section",{className:"main"},!!l.length&&n.a.createElement(n.a.Fragment,null,n.a.createElement("input",{type:"checkbox",id:"toggle-all",className:"toggle-all",onChange:this.changeTodosCompleteStatus,checked:r}),n.a.createElement("label",{htmlFor:"toggle-all"},"Mark all as complete")),n.a.createElement("ul",{className:"todo-list"},o.map(function(t){return n.a.createElement(g,{todo:t,deleteTodoFromData:e.deleteTodoFromData,changeTodoCompleteStatus:e.changeTodoCompleteStatus,editTodoInData:e.editTodoInData,key:t.id})}))),!!l.length&&n.a.createElement(C,{activeTodosLeft:d,changeFilter:this.changeFilter,filter:a,isSomeTodoCompleted:c,deleteAllCompletedTodoFromData:this.deleteAllCompletedTodoFromData}))}}]),t}(n.a.Component);r.a.render(n.a.createElement(O,null),document.getElementById("root"))}},[[11,1,2]]]);
//# sourceMappingURL=main.1f2d485c.chunk.js.map